{% extends '@EasyAdmin/page/content.html.twig' %}

{% block content_title %}My Recap{% endblock %}

{% block main %}
    <div class="table-responsive">
        <h3 class="text-uppercase text-center font-weight-bolder alert-dark alert">Field Events</h3>
        <table class="table table-hover">
            <thead class="table-primary">
            <tr>
                <th scope="col">Société</th>
                <th scope="col">Date</th>
                <th scope="col">CA</th>
                <th scope="col">PA</th>
                <th scope="col">Marge Event</th>
                <th scope="col">Com Sales</th>
                <th scope="col">Marge Verhulst</th>
            </tr>
            </thead>
            <tbody>
            {% for sale in user.sales %}
                {% if get_class(sale.product) == 'ProductEvent' %}
                    <tr>
                        <th scope="row">
                            {% for contact in sale.contact %}
                                {{ contact.firstname }} {{ contact.lastname }} ({{ contact.company.name }})<br>
                            {% endfor %}
                        </th>
                        <td>{{ sale.date|date('d/m/Y') }}</td>
                        <td>{{ (sale.price/100)|number_format(2, ',', ' ') }}</td>
                        <td>?</td>
                        <td>?</td>
                        <td>{{ sale.percentCom }} %</td>
                        <td>{{ sale.percentVr }} %</td>
                    </tr>
                {% endif %}
            {% endfor %}
            </tbody>
        </table>
        <h3 class="text-uppercase text-center font-weight-bolder alert-dark alert">Sponsoring</h3>
        <table class="table table-hover">
            <thead class="table-primary">
            <tr>
                <th scope="col">Société</th>
                <th scope="col">Date</th>
                <th scope="col">CA</th>
                <th scope="col">PA</th>
                <th scope="col">Marge Event</th>
                <th scope="col">Com Sales</th>
                <th scope="col">Marge Verhulst</th>
            </tr>
            </thead>
            <tbody>
            {% for sale in user.sales %}
                {% if get_class(sale.product) == 'ProductSponsoring' %}
                    <tr>
                        <th scope="row">
                            {% for contact in sale.contact %}
                                {{ contact.firstname }} {{ contact.lastname }} ({{ contact.company.name }})<br>
                            {% endfor %}
                        </th>
                        <td>{{ sale.date|date('d/m/Y') }}</td>
                        <td>{{ (sale.price/100)|number_format(2, ',', ' ') }}</td>
                        <td>?</td>
                        <td>?</td>
                        <td>{{ sale.percentCom }} %</td>
                        <td>{{ sale.percentVr }} %</td>
                    </tr>
                {% endif %}
            {% endfor %}
            </tbody>
        </table>
        <h3 class="text-uppercase text-center font-weight-bolder alert-dark alert">Package VIP</h3>
        <table class="table table-hover">
            <thead class="table-primary">
            <tr>
                <th scope="col">Société</th>
                <th scope="col">Date</th>
                <th scope="col">CA</th>
                <th scope="col">PA</th>
                <th scope="col">Marge Event</th>
                <th scope="col">Com Sales</th>
                <th scope="col">Marge Verhulst</th>
            </tr>
            </thead>
            <tbody>
            {% for sale in user.sales %}
                {% if get_class(sale.product) == 'ProductPackageVip' %}
                    <tr>
                        <th scope="row">
                            {% for contact in sale.contact %}
                                {{ contact.firstname }} {{ contact.lastname }} ({{ contact.company.name }})<br>
                            {% endfor %}
                        </th>
                        <td>{{ sale.date|date('d/m/Y') }}</td>
                        <td>{{ (sale.price/100)|number_format(2, ',', ' ') }}</td>
                        <td>?</td>
                        <td>?</td>
                        <td>{{ sale.percentCom }} %</td>
                        <td>{{ sale.percentVr }} %</td>
                    </tr>
                {% endif %}
            {% endfor %}
            </tbody>
        </table>
        <h3 class="text-uppercase text-center font-weight-bolder alert-dark alert">Divers</h3>
        <table class="table table-hover">
            <thead class="table-primary">
            <tr>
                <th scope="col">Société</th>
                <th scope="col">Date</th>
                <th scope="col">CA</th>
                <th scope="col">PA</th>
                <th scope="col">Marge Event</th>
                <th scope="col">Com Sales</th>
                <th scope="col">Marge Verhulst</th>
            </tr>
            </thead>
            <tbody>
            {% for sale in user.sales %}
                {% if get_class(sale.product) == 'ProductDivers' %}
                    <tr>
                        <th scope="row">
                            {% for contact in sale.contact %}
                                {{ contact.firstname }} {{ contact.lastname }} ({{ contact.company.name }})<br>
                            {% endfor %}
                        </th>
                        <td>{{ sale.date|date('d/m/Y') }}</td>
                        <td>{{ (sale.price/100)|number_format(2, ',', ' ') }}</td>
                        <td>?</td>
                        <td>?</td>
                        <td>{{ sale.percentCom }} %</td>
                        <td>{{ sale.percentVr }} %</td>
                    </tr>
                {% endif %}
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}